# üîç Gap Analysis ‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á)

**‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**
- ‚úÖ INVS_MANUAL-01.pdf (‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°)
- ‚úÖ MySQL Database (invs_banpong) - 133 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á, 816 companies, 7,258 drugs

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:** 20 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568 ‡πÄ‡∏ß‡∏•‡∏≤ 07:15 ‡∏ô.
**Version:** 2.0 (Final - ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á)

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

| Component | ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° (MySQL) | ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤ (PostgreSQL) | % Complete | Gap |
|-----------|-----------------|---------------------|------------|-----|
| **Master Data** | ‚úÖ 133 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | ‚úÖ 10 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | 100% | ‚úÖ ‡∏Ñ‡∏£‡∏ö |
| **Procurement** | ‚úÖ 8 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | üü° 3 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | 40% | ‚ùå ‡∏Ç‡∏≤‡∏î 5 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á |
| **Inventory** | ‚úÖ 15 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | ‚úÖ 5 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | 80% | üü° ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° |
| **Budget** | ‚úÖ 4 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | ‚úÖ 7 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á | 120% | ‚úÖ ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏Å‡∏¥‡∏ô! |

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô 70% ‡πÅ‡∏ï‡πà‡∏Ç‡∏≤‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠

---

## üîç ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô (‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°)

### 1. ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤ (Contract Management) ‚≠ê‚≠ê‚≠ê

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `cnt` (Contract Master):**
```sql
‚úÖ CNT_NO - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏ç‡∏ç‡∏≤
‚úÖ PARTIES_CODE - ‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
‚úÖ EFFECTIVE_DATE - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°
‚úÖ END_DATE - ‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î
‚úÖ BUY_METHOD - ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠ (e-bidding, ‡∏ï‡∏Å‡∏•‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤)
‚úÖ BUY_COMMON - ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏°‡∏±‡∏ç/‡∏û‡∏¥‡πÄ‡∏®‡∏©
‚úÖ TOTAL_ITEM - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
‚úÖ TOTAL_COST - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏°
‚úÖ REMAIN_COST - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠
‚úÖ FISCAL_YEAR - ‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì
```

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `cnt_c` (Contract Items):**
```sql
‚úÖ CNT_NO - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏ç‡∏ç‡∏≤
‚úÖ WORKING_CODE - ‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏≤ generic
‚úÖ TRADE_CODE - ‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏≤ trade
‚úÖ BUY_UNIT_COST - ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ç‡∏≤ ‚≠ê
‚úÖ QTY_CNT - ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ç‡∏≤
‚úÖ COST_CNT - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ç‡∏≤
‚úÖ QTY_REMAIN - ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‚≠ê
‚úÖ COST_REMAIN - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‚≠ê
‚úÖ PERCENT_CNT - % ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ:

```sql
‚ùå contracts (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á)
‚ùå contract_items (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á)
```

#### ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:

```
‚ùå Critical: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÑ‡∏î‡πâ
‚ùå Critical: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏±‡∏ç‡∏ç‡∏≤
‚ùå Critical: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏Å‡∏¥‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤
‚ùå High: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏
‚ùå High: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤ (‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£ ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£)
```

#### ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

```sql
CREATE TABLE contracts (
    id BIGSERIAL PRIMARY KEY,
    contract_number VARCHAR(20) UNIQUE NOT NULL,
    contract_type VARCHAR(20) NOT NULL, -- 'E_BIDDING', 'PRICE_AGREEMENT', 'QUOTATION'
    vendor_id BIGINT REFERENCES companies(id),
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    total_value DECIMAL(15,2),
    remaining_value DECIMAL(15,2),
    payment_terms TEXT,
    warranty_period VARCHAR(50),
    fiscal_year VARCHAR(4),
    status VARCHAR(20) DEFAULT 'ACTIVE',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE contract_items (
    id BIGSERIAL PRIMARY KEY,
    contract_id BIGINT REFERENCES contracts(id) ON DELETE CASCADE,
    drug_id BIGINT REFERENCES drugs(id),
    unit_price DECIMAL(10,2) NOT NULL, -- ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ç‡∏≤
    quantity_contracted DECIMAL(10,2), -- ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ç‡∏≤
    quantity_remaining DECIMAL(10,2), -- ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠
    value_contracted DECIMAL(15,2),
    value_remaining DECIMAL(15,2),
    discount_percent DECIMAL(5,2),
    notes TEXT,
    UNIQUE(contract_id, drug_id)
);
```

---

### 2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠ (Procurement)

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `sm_po` (Sub PO - ‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠):**
```sql
‚úÖ SUB_PO_NO - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà PO
‚úÖ SUB_PO_DATE - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
‚úÖ DEPT_ID - ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
‚úÖ ACC_NO - ‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ç‡∏ä‡∏µ
‚úÖ STOCK_ID - ‡∏Ñ‡∏•‡∏±‡∏á
‚úÖ TOTAL_ITEM - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
‚úÖ TOTAL_COST - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏°
‚úÖ USER_ID - ‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
‚úÖ CONFIRM_FLAG - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
‚úÖ R_S_STATUS - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏±‡∏ö-‡∏™‡πà‡∏á
‚úÖ SEND_FLAG - ‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
‚úÖ PRINT_FLAG - ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
‚úÖ REF_NO - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏±‡∏ç‡∏ç‡∏≤)
‚úÖ CONFIRM_DATE, CONFIRM_TIME - ‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
```

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `sm_po_c` (Sub PO Content - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠):**
```sql
‚úÖ SUB_PO_NO - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà PO
‚úÖ WORKING_CODE - ‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏≤ generic
‚úÖ TRADE_CODE - ‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏≤ trade
‚úÖ QTY_ORDER - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏±‡πà‡∏á
‚úÖ QTY_RCV - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏±‡∏ö
‚úÖ VENDOR_CODE - ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
‚úÖ MANUFAC_CODE - ‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï
‚úÖ COST, VALUE - ‡∏£‡∏≤‡∏Ñ‡∏≤
‚úÖ LOT_NO - ‡πÄ‡∏•‡∏Ç Lot ‚≠ê ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
‚úÖ EXPIRED_DATE - ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‚≠ê ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
‚úÖ LOCATION - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö
‚úÖ CONFIRM_FLAG - ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß
‚úÖ USER_CFM - ‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô

‚≠ê ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï: ‡∏°‡∏µ EXPIRED_DATE1, EXPIRED_DATE2, EXPIRED_DATE3
   ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢ Lot ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÑ‡∏î‡πâ!
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

```sql
‚úÖ purchase_orders
   - poNumber, poDate
   - vendorId, departmentId, budgetId
   - status, totalAmount, totalItems
   - approvedBy

‚úÖ purchase_order_items
   - drugId, quantityOrdered
   - unitCost, quantityReceived
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏Ç‡∏≤‡∏î‡∏≠‡∏∞‡πÑ‡∏£:

```
üü° REF_NO (‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤) ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ
üü° SEND_FLAG (‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà) ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ
üü° PRINT_FLAG (‡∏û‡∏¥‡∏°‡∏û‡πå‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà) ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ
üü° CONFIRM_DATE, CONFIRM_TIME ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ (‡∏°‡∏µ‡πÅ‡∏Ñ‡πà approvedBy)
```

#### ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

```sql
ALTER TABLE purchase_orders
ADD COLUMN contract_id BIGINT REFERENCES contracts(id),
ADD COLUMN sent_to_vendor_date DATE,
ADD COLUMN printed_date DATE,
ADD COLUMN confirmed_by BIGINT,
ADD COLUMN confirmed_date TIMESTAMP;
```

---

### 3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡∏á (Receiving)

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `sm_po_c` ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢:**
```sql
‚úÖ QTY_RCV - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏±‡∏ö
‚úÖ LOT_NO - ‡πÄ‡∏•‡∏Ç Lot
‚úÖ EXPIRED_DATE - ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏
‚úÖ LOCATION - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö
‚úÖ CONFIRM_FLAG - ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß
‚úÖ USER_CFM - ‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
‚úÖ CONFIRM_DATE - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô

‚≠ê ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢ Lot:
   - QTY_RCV1, EXPIRED_DATE1, LOCATION1, VENDOR_CODE2
   - QTY_RCV2, EXPIRED_DATE2, LOCATION2, VENDOR_CODE2
   - QTY_RCV3, EXPIRED_DATE3, LOCATION3, VENDOR_CODE3
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

```sql
‚úÖ receipts
   - receiptNumber, receiptDate
   - poId, deliveryNote
   - status (DRAFT, VERIFIED, POSTED)
   - receivedBy, verifiedBy

‚úÖ receipt_items
   - drugId, quantityReceived
   - lotNumber, expiryDate
   - unitCost
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏Ç‡∏≤‡∏î‡∏≠‡∏∞‡πÑ‡∏£:

```
‚ùå invoice_number ‚≠ê ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å
‚ùå invoice_date ‚≠ê ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å
üü° received_date (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏±‡∏ö)
üü° verified_date (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö)
üü° posted_date (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö)
```

#### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ:

```sql
‚ùå ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ Status ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏ß‡πà‡∏≤:
   - DRAFT (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö)
   - PENDING_VERIFICATION (‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö) ‚≠ê ‡∏Ç‡∏≤‡∏î
   - VERIFIED (‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢)
   - POSTED (‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°)
```

#### ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

```sql
ALTER TABLE receipts
ADD COLUMN invoice_number VARCHAR(50),
ADD COLUMN invoice_date DATE,
ADD COLUMN received_date TIMESTAMP,
ADD COLUMN verified_date TIMESTAMP,
ADD COLUMN posted_date TIMESTAMP;

-- ‡πÄ‡∏û‡∏¥‡πà‡∏° enum ReceiptStatus
-- ‡πÄ‡∏î‡∏¥‡∏°: 'DRAFT', 'VERIFIED', 'POSTED'
-- ‡πÉ‡∏´‡∏°‡πà: 'DRAFT', 'PENDING_VERIFICATION', 'VERIFIED', 'POSTED'
```

---

### 4. ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö (Inspection Committee)

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `quali_rcv` (Quality Receive - ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û):**
```sql
‚úÖ RECEIVE_NO - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö
‚úÖ WORKING_CODE, TRADE_CODE - ‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏≤
‚úÖ QUALI_ID - ‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à
‚úÖ QUALI_VALUE - ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏î‡πâ
‚úÖ USER_ID - ‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à
‚úÖ LOT_NO - ‡πÄ‡∏•‡∏Ç Lot
```

**‡∏à‡∏≤‡∏Å‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠: ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö 3 ‡∏Ñ‡∏ô**
```
1. ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£ (Chairman)
2. ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£ (Member)
3. ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏Ç‡∏≤‡∏ô‡∏∏‡∏Å‡∏≤‡∏£ (Secretary)
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

```sql
‚úÖ receipts.verifiedBy (‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà 1 ‡∏Ñ‡∏ô)
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏Ç‡∏≤‡∏î‡∏≠‡∏∞‡πÑ‡∏£:

```
‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á receipt_inspectors (‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô)
‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• inspector_name, inspector_position
‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• inspector_role (‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô/‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£/‡πÄ‡∏•‡∏Ç‡∏≤)
‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ signed_date (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ô‡∏≤‡∏°)
‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ signature_path (‡πÑ‡∏ü‡∏•‡πå‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô)
```

#### ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

```sql
CREATE TABLE receipt_inspectors (
    id BIGSERIAL PRIMARY KEY,
    receipt_id BIGINT REFERENCES receipts(id) ON DELETE CASCADE,
    inspector_name VARCHAR(100) NOT NULL,
    inspector_position VARCHAR(100),
    inspector_role VARCHAR(50), -- 'CHAIRMAN', 'MEMBER', 'SECRETARY'
    signed_date TIMESTAMP,
    signature_path VARCHAR(255),
    remarks TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

### 5. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠ (Budget Planning)

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `buyplan` (‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ - ‡∏£‡∏≤‡∏¢‡∏õ‡∏µ):**
```sql
‚úÖ YEAR - ‡∏õ‡∏µ
‚úÖ DEPT_ID - ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
‚úÖ VALUE_1_YEAR, VALUE_2_YEAR, VALUE_3_YEAR - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ 3 ‡∏õ‡∏µ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á
‚úÖ VALUE_THIS_YEAR - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏õ‡∏µ‡∏ô‡∏µ‡πâ
‚úÖ TRIMESTER1, 2, 3, 4 - ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡πà‡∏á‡∏ï‡∏≤‡∏°‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™
‚úÖ BUY_TRIMES1-4 - ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™
‚úÖ RM_TRIMES1-4 - ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™
‚úÖ APPROVE - ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
```

**‡∏ï‡∏≤‡∏£‡∏≤‡∏á `buyplan_c` (‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ - ‡∏£‡∏≤‡∏¢‡∏¢‡∏≤):**
```sql
‚úÖ YEAR - ‡∏õ‡∏µ
‚úÖ WORKING_CODE, TRADE_CODE - ‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏≤
‚úÖ DEPT_ID - ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
‚úÖ RATE_1_YEAR, RATE_2_YEAR, RATE_3_YEAR - ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ 3 ‡∏õ‡∏µ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á
‚úÖ AVG_3_YEAR - ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 3 ‡∏õ‡∏µ
‚úÖ QTY_THIS_YEAR - ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏õ‡∏µ‡∏ô‡∏µ‡πâ
‚úÖ TRIMESTER1-4 - ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÅ‡∏ö‡πà‡∏á‡∏ï‡∏≤‡∏°‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™
‚úÖ QTY_BUY_TRI1-4 - ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™
‚úÖ QTY_RM_TRI1-4 - ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™
‚úÖ QTY_RCV_TRI1-4 - ‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™
‚úÖ MIN_LEVEL - ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥
‚úÖ QTY_ON_HAND - ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á
‚úÖ FORECAST - ‡∏Ñ‡πà‡∏≤‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå
```

#### ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£:

```sql
‚úÖ budget_plans (‡πÅ‡∏ú‡∏ô‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠)
‚úÖ budget_plan_items (‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤)
   - year1_quantity, year2_quantity, year3_quantity
   - average_quantity
   - q1_quantity, q2_quantity, q3_quantity, q4_quantity
   - q1_purchased, q2_purchased, q3_purchased, q4_purchased
```

#### ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö:

```
‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏Ñ‡∏£‡∏ö‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏´‡∏°‡∏î!
üü° ‡∏¢‡∏±‡∏á‡∏Ç‡∏≤‡∏î:
   - ‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™ (QTY_RCV_TRI1-4)
   - ‡∏Ñ‡πà‡∏≤‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå (FORECAST)
   - ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á (QTY_ON_HAND)
```

#### ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

```sql
ALTER TABLE budget_plan_items
ADD COLUMN q1_received DECIMAL(10,2),
ADD COLUMN q2_received DECIMAL(10,2),
ADD COLUMN q3_received DECIMAL(10,2),
ADD COLUMN q4_received DECIMAL(10,2),
ADD COLUMN forecast_quantity DECIMAL(10,2),
ADD COLUMN current_stock DECIMAL(10,2);
```

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°

### üî¥ **Priority 1 - Critical (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ)**

#### 1. ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤ (3 ‡∏ß‡∏±‡∏ô)

```sql
CREATE TABLE contracts (
    id BIGSERIAL PRIMARY KEY,
    contract_number VARCHAR(20) UNIQUE NOT NULL,
    contract_type VARCHAR(20) NOT NULL,
    vendor_id BIGINT REFERENCES companies(id),
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    total_value DECIMAL(15,2),
    remaining_value DECIMAL(15,2),
    payment_terms TEXT,
    fiscal_year VARCHAR(4),
    status VARCHAR(20) DEFAULT 'ACTIVE',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE contract_items (
    id BIGSERIAL PRIMARY KEY,
    contract_id BIGINT REFERENCES contracts(id) ON DELETE CASCADE,
    drug_id BIGINT REFERENCES drugs(id),
    unit_price DECIMAL(10,2) NOT NULL,
    quantity_contracted DECIMAL(10,2),
    quantity_remaining DECIMAL(10,2),
    value_contracted DECIMAL(15,2),
    value_remaining DECIMAL(15,2),
    discount_percent DECIMAL(5,2),
    notes TEXT,
    UNIQUE(contract_id, drug_id)
);
```

**Effort:** 3 ‡∏ß‡∏±‡∏ô

---

#### 2. ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö (2 ‡∏ß‡∏±‡∏ô)

```sql
CREATE TABLE receipt_inspectors (
    id BIGSERIAL PRIMARY KEY,
    receipt_id BIGINT REFERENCES receipts(id) ON DELETE CASCADE,
    inspector_name VARCHAR(100) NOT NULL,
    inspector_position VARCHAR(100),
    inspector_role VARCHAR(50),
    signed_date TIMESTAMP,
    signature_path VARCHAR(255),
    remarks TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

ALTER TABLE receipts
ADD COLUMN invoice_number VARCHAR(50),
ADD COLUMN invoice_date DATE,
ADD COLUMN received_date TIMESTAMP,
ADD COLUMN verified_date TIMESTAMP,
ADD COLUMN posted_date TIMESTAMP;

-- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç enum ReceiptStatus
-- ‡πÄ‡∏û‡∏¥‡πà‡∏°: PENDING_VERIFICATION
```

**Effort:** 2 ‡∏ß‡∏±‡∏ô

---

#### 3. ‡πÉ‡∏ö‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (1 ‡∏ß‡∏±‡∏ô)

```sql
CREATE TABLE approval_documents (
    id BIGSERIAL PRIMARY KEY,
    approval_doc_number VARCHAR(20) UNIQUE NOT NULL,
    po_id BIGINT REFERENCES purchase_orders(id),
    approval_type VARCHAR(20) DEFAULT 'NORMAL',
    requested_by BIGINT,
    requested_date DATE,
    approved_by BIGINT,
    approval_date DATE,
    approval_remarks TEXT,
    status VARCHAR(20) DEFAULT 'PENDING',
    document_path VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**Effort:** 1 ‡∏ß‡∏±‡∏ô

---

### üü° **Priority 2 - Important (‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ)**

#### 4. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÉ‡∏ô PO (0.5 ‡∏ß‡∏±‡∏ô)

```sql
ALTER TABLE purchase_orders
ADD COLUMN contract_id BIGINT REFERENCES contracts(id),
ADD COLUMN sent_to_vendor_date DATE,
ADD COLUMN printed_date DATE,
ADD COLUMN confirmed_by BIGINT,
ADD COLUMN confirmed_date TIMESTAMP;
```

#### 5. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÉ‡∏ô Budget Plan Items (0.5 ‡∏ß‡∏±‡∏ô)

```sql
ALTER TABLE budget_plan_items
ADD COLUMN q1_received DECIMAL(10,2),
ADD COLUMN q2_received DECIMAL(10,2),
ADD COLUMN q3_received DECIMAL(10,2),
ADD COLUMN q4_received DECIMAL(10,2),
ADD COLUMN forecast_quantity DECIMAL(10,2),
ADD COLUMN current_stock DECIMAL(10,2);
```

#### 6. ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô (2 ‡∏ß‡∏±‡∏ô)

```sql
CREATE TABLE payment_documents (
    id BIGSERIAL PRIMARY KEY,
    payment_doc_number VARCHAR(20) UNIQUE,
    receipt_id BIGINT REFERENCES receipts(id),
    po_id BIGINT REFERENCES purchase_orders(id),
    vendor_id BIGINT REFERENCES companies(id),
    total_amount DECIMAL(15,2),
    submitted_to_finance_date DATE,
    approved_date DATE,
    paid_date DATE,
    payment_status VARCHAR(20) DEFAULT 'PENDING',
    payment_method VARCHAR(50),
    payment_reference VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## üìà Timeline ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

### Week 1: Critical Fixes (6 ‡∏ß‡∏±‡∏ô)
```
Day 1-3: ‚úèÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á contracts + contract_items
Day 4-5: ‚úèÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á receipt_inspectors + ‡πÅ‡∏Å‡πâ receipts
Day 6:   ‚úèÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á approval_documents
```

### Week 2: Important Features (3 ‡∏ß‡∏±‡∏ô)
```
Day 1:   ‚úèÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå PO + Budget Plan
Day 2-3: ‚úèÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á payment_documents
```

**‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:** 9 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£

---

## üí° ‡∏Ç‡πâ‡∏≠‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°

### 1. **‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢ Lot ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß** ‚≠ê

```sql
sm_po_c ‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå:
- QTY_RCV1, EXPIRED_DATE1, LOCATION1, VENDOR_CODE2
- QTY_RCV2, EXPIRED_DATE2, LOCATION2, VENDOR_CODE2
- QTY_RCV3, EXPIRED_DATE3, LOCATION3, VENDOR_CODE3
```

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:** ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ Paracetamol 10,000 ‡πÄ‡∏°‡πá‡∏î ‡πÅ‡∏ï‡πà‡∏£‡∏±‡∏ö‡∏°‡∏≤ 3 Lot:
- Lot A: 3,000 ‡πÄ‡∏°‡πá‡∏î (‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ 12/2025)
- Lot B: 5,000 ‡πÄ‡∏°‡πá‡∏î (‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ 06/2026)
- Lot C: 2,000 ‡πÄ‡∏°‡πá‡∏î (‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ 09/2026)

**‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤:**
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß! (‡πÉ‡∏ä‡πâ receipt_items ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ñ‡∏ß ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö drugId ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)

---

### 2. **‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤** ‚≠ê

```sql
contract_items ‡∏°‡∏µ:
- quantity_contracted (‡∏ï‡∏Å‡∏•‡∏á‡πÑ‡∏ß‡πâ 100,000)
- quantity_remaining (‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 50,000)
‚Üí ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤ ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß 50,000
```

**‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤:**
- ‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°

---

### 3. **‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î** ‚≠ê

```sql
sm_po ‡∏°‡∏µ:
- CONFIRM_FLAG (‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß Y/N)
- SEND_FLAG (‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß Y/N)
- PRINT_FLAG (‡∏û‡∏¥‡∏°‡∏û‡πå‡πÅ‡∏•‡πâ‡∏ß Y/N)
- R_S_STATUS (‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏±‡∏ö-‡∏™‡πà‡∏á)
```

**‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤:**
- üü° ‡∏°‡∏µ‡∏ö‡πâ‡∏≤‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°

---

## üéØ ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢

### ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á:

**‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å** ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞:
1. ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô - ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å, ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£, ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°
2. ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢ Lot - ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
3. ‚úÖ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î - SEND, PRINT, CONFIRM
4. ‚úÖ Budget Planning ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î - ‡∏£‡∏≤‡∏¢‡∏¢‡∏≤, ‡∏£‡∏≤‡∏¢‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™, ‡∏°‡∏µ 3 ‡∏õ‡∏µ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á

**‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° (Priority):**
1. üî¥ ‡∏™‡∏±‡∏ç‡∏ç‡∏≤ (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)
2. üî¥ ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô
3. üü° ‡πÉ‡∏ö‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏¢‡∏Å
4. üü° ‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô PO, Receipt

**‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥:**
- Week 1 (6 ‡∏ß‡∏±‡∏ô): ‡πÄ‡∏û‡∏¥‡πà‡∏° 3 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å
- Week 2 (3 ‡∏ß‡∏±‡∏ô): ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≠‡∏á
- **‡∏£‡∏ß‡∏°: 9 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£**

---

## üìû ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

### ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ:
- [ ] Review Gap Analysis ‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°
- [ ] Approve ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ 9 ‡∏ß‡∏±‡∏ô
- [ ] ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Migration Scripts

### Week 1:
- [ ] Day 1-3: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á contracts
- [ ] Day 4-5: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á receipt_inspectors
- [ ] Day 6: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á approval_documents

### Week 2:
- [ ] Day 1: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ï‡πà‡∏≤‡∏á‡πÜ
- [ ] Day 2-3: ‡∏™‡∏£‡πâ‡∏≤‡∏á payment_documents
- [ ] Day 4-5: Test & Verify

### Week 3:
- [ ] ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Backend API
- [ ] ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Frontend
- [ ] Integration Testing

---

**Version:** 2.0 (Final)
**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 20 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚úÖ Complete - ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á:**
- ‚úÖ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ INVS_MANUAL-01.pdf
- ‚úÖ MySQL Database (133 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á, 816 companies, 7,258 drugs)
- ‚úÖ Prisma Schema v1.2.0

---

*‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á 100% ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠*
